# 学生管理系统设计思路

## 使用技术

前端：html、JSP

后端：servlet、java

数据库：jdbc、c3p0、dbutils

服务器：tomcat

IDE：eclipse

## 项目结构

1. 采用MVC结构，M即service层，V即web层，C即servlet层。另增加dao层存取数据。

2. 将整体需求分割成小的功能模块，逐步实现、迭代实现。

### web层

作用

1. 将获取到的内容展示出来
2. 向servlet层提出自己的需求

页面准备

- 登录页面：index.jsp
- 注册页面：logup.jsp
- 学生列表页：listStu.jsp（测试用，展示全部数据）、listByPage.jsp（分页展示数据）
- 更新学生页面：updateStu.jsp
- 添加学生页面：addStu.jsp

### servlet层

作用

1. 调用合适的service处理web层的请求
2. 将结果发送到web层，交由web层处理

### service层

作用：为web层提供相应的服务，由servlet层调用。

共有2个服务对象

1. 学生管理系统的用户相关的服务
	- 查询是否存在某用户
	- 将用户注册到系统

2. 学生相关的服务
	- 根据姓名、性别查询学生
	- 根据页面查询学生
	- 更新学生
	- 添加学生
	- 删除学生

### dao层

作用：提供service层需要的数据

## 逻辑处理

### 登录逻辑

1. 前端输入用户名和密码，后端获得前端提交的数据，验证是否有该用户，并将结果返回给前端
2. 提供注册入口

### 注册逻辑

1. 输入用户名和密码，即可注册成功

### 展示逻辑

1. 需要根据返回的学生信息、页面可以展示的条数，动态展示页面上的内容。
2. 数据有更新、添加、删除时，需要及时更新页面上的内容。

### 添加学生

1. 需要及时展示添加上的学生
2. 根据需要，检验添加的信息是否符合条件

### 更新逻辑

1. 需要在原有学生信息的基础上更新
2. 需要及时展示更新后的信息。

### 删除逻辑

1. 点击删除弹框的“确定”按钮后，才删除学生
2. 删除学生后，页面不能变乱（比如一页显示5条数据不能变成4条）

### 查询逻辑

1. 默认查询全部数据
2. 可以根据姓名模糊查询、性别查询、姓名+性别查询。
3. 姓名、性别都为空时，查询全部
4. 分页查询的问题，查询的条件没有带过来，分页查询的数据每次都会重新获取。

### 分页逻辑

1. 每页显示的条数，由客户端控制，传给服务器。（或者可以写在服务器的配置文件内）
2. 需要的数据：每页显示多少条、一共有多少条、一共有多少页、当前是第几页。
3. 只查询当前页的数据，翻到下一页时，再查询下一页的内容
4. 当前页的链接不可点
